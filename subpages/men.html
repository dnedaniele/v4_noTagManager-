<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Men</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="../style.css" />
  <script type="text/javascript" src="/webtrekk_v4.min.js"></script>




  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-KH7VHCM');</script>
  <!-- End Google Tag Manager -->

  <script>

    // config object 
    var webtrekkConfig = webtrekkConfig || {
      trackId: "876936451222772",
      trackDomain: "danielebootcampgmbh01.wt-eu02.net",
      domain: "REGEXP:^(.elated-kepler-09285f*\\.netlify\\.app)$",
      mediaCode: "wt_mc",
      cookie: "3",
      safetag: {
        async: true,
        timeout: 2000,
        /** Load SafeTag from Webtrekk Server */
        safetagDomain: "responder.wt-safetag.com",
        safetagId: "111111111111111",
        /** Load SafeTag from Customer Server */
        // customDomain: "www.domain.de",
        // customPath: "javascripts/webtrekk_safetag.js",
        option: {}
      }
    };

    // initate
    var wt = new webtrekkV3();

    // MARKETING AUTOMATION products -https://docs.mapp.com/display/MA/Advanced+Configuration
    wt.product = "pullover;jeans";
    wt.productCategory = {
      1: "tops;jeans",
      2: "noname;levis"
    };
    wt.productQuantity = "2;1"; // optional: quantity
    wt.productCost = "99.90;69.95"; // optional: costs
    wt.productStatus = "conf"; // optional: product status: (add|conf|view)
    wt.currency = "EUR"; // optional: product currency
    // order
    wt.orderId = "M-12345";
    wt.orderValue = "52.99";
    // custom e-commerce parameter
    wt.customEcommerceParameter = {
      1: "L;32",
      2: "green;blue",
      3: "bill"
    };







    // track Event
    wt.linkTrackInit();  // ?????


    // send data
    wt.sendinfo();

  </script>

</head>

<body>

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KH7VHCM" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- NAvBAR -->
  <nav class="nav-container">
    <img class="img-fluid img-logo" src="https://www.overdrive.ie/wp-content/uploads/2018/07/emp-logo.png"
      alt="emp log0" />
    <div class="nav-titles">
      <h4><a href="../index.html">Home</a></h4>
      <h4><a href="./men.html">Men</a></h4>
      <h4><a href="./women.html">Women</a></h4>
      <h4><a href="./fun&lifestyle.html">Fun&Lifestyle</a></h4>
    </div>
  </nav>

  <!-- Product List -->
  <div class="product-container" id="prod-list-cont">
    <!-- Product 1 -->
    <div class="card product" style="width: 18rem">
      <img
        src="https://www.emp.de/dw/image/v2/BBQV_PRD/on/demandware.static/-/Sites-master-emp/default/dw81df550c/images/4/6/6/8/466821a.jpg?sw=1000&sh=800&sm=fit&sfrm=png"
        class="card-img-top" alt="sweater">
      <div class="card-body">
        <h5 class="card-title">Holiday Sweater AC/DC</h5>
        <p class="card-text">
          Price: 64,99 €
        </p>
        <a href="../subpages/Product Page/productPage_sweater.html" class="btn btn-primary">Buy</a>
      </div>
    </div>
    <!-- Product 2 -->
    <div class="card product" style="width: 18rem">
      <img
        src="https://www.emp.de/dw/image/v2/BBQV_PRD/on/demandware.static/-/Sites-master-emp/default/dw1fe4b7ef/images/4/7/1/3/471364a.jpg?sw=1000&sh=800&sm=fit&sfrm=png"
        class="card-img-top" alt="socken">
      <div class="card-body">
        <h5 class="card-title">Kiss Socks</h5>
        <p class="card-text">
          Price: 14,99 €
        </p>
        <a href="./addtocart.html" class="btn btn-primary">Buy</a>
      </div>
    </div>
    <!-- Product 3 -->
    <div class="card product" style="width: 18rem">
      <img
        src="https://www.emp.de/dw/image/v2/BBQV_PRD/on/demandware.static/-/Sites-master-emp/default/dwdd29a9fa/images/4/6/9/4/469428a.jpg?sw=1000&sh=800&sm=fit&sfrm=png"
        class="card-img-top" alt="tshirt">
      <div class="card-body">
        <h5 class="card-title">Valhalla T-Shirt</h5>
        <p class="card-text">
          Price: 19,99 €
        </p>
        <a href="./addtocart.html" class="btn btn-primary">Buy</a>
      </div>
    </div>
  </div>
  <!-- footer -->
  <footer>
    <p>All prices include VAT</p>
    <p>© Daniele - Wanna be E.M.P. Merchandising HGmbH</p>
  </footer>
  <script src="../index.js"></script>

  <script>

    const productList = [
      {
        id: 1,
        name : "Man T-Shirt",
        image: "https://www.emp-online.com/dw/image/v2/BBQV_PRD/on/demandware.static/-/Sites-master-emp/default/dwe34db643/images/1/4/6/3/146311a-emp.jpg?sw=350&sh=400&sm=fit&sfrm=png",
        price: 23
      },
            {
        id: 2,
        name : "Man Boots",
        image: "https://images-na.ssl-images-amazon.com/images/I/71Zk9ftWJXL._AC_UY500_.jpg",
        price: 74
      },
      {
        id: 2,
        name : "Man Hat",
        image: "https://i.ebayimg.com/images/g/tm0AAOSwx1Rdy9Wc/s-l640.jpg",
        price: 18
      }
    ]

    
    // data layer push
    if(window.dataLayer){
      dataLayer.push({
        productList
      })
    }
    

    /*
    <div class="card product" style="width: 18rem">
      <img
        src="https://www.emp.de/dw/image/v2/BBQV_PRD/on/demandware.static/-/Sites-master-emp/default/dw81df550c/images/4/6/6/8/466821a.jpg?sw=1000&sh=800&sm=fit&sfrm=png"
        class="card-img-top" alt="sweater">
      <div class="card-body">
        <h5 class="card-title">Holiday Sweater AC/DC</h5>
        <p class="card-text">
          Price: 64,99 €
        </p>
        <a href="../subpages/Product Page/productPage_sweater.html" class="btn btn-primary">Buy</a>
      </div>
    </div>
    */


    function renderSingleProduct(product){
      const productContainer = document.createElement("div");

      productContainer.classList.add("card");
      productContainer.classList.add("product");

      // css
      productContainer.style.width = "width: 18rem";
      productContainer.style.display = "flex";
      productContainer.style.flexDirection = "column";

      const cardContainer = document.createElement("div");
      cardContainer.classList.add("card-body");

      cardContainer.style.display = "flex";
      cardContainer.style.flexDirection = "column";

      const nameTag = document.createElement("span");
      nameTag.innerHTML = product.name;

      const priceTag = document.createElement("span");
      priceTag.innerHTML = "Price: " + product.price +" €"

      const productImg = document.createElement("img");
      productImg.classList.add("card-img-top");
      productImg.src = product.image 
      
      const buyButton = document.createElement("button");
      buyButton.classList.add("btn");
      buyButton.classList.add("btn-primary");
      buyButton.innerHTML = "Buy";

      buyButton.onclick = function(){

      // data layer push
      if(window.dataLayer){
        dataLayer.push({
            name: "click_on_buy",
            productName: product.name,
            price: product.price,
            image: product.image,
            created_at: new Date()
          })
        }else{
          console.warn("Analytics won't work without a proper data layer setup!")
        }

        console.log("pushed to data layer")
      };
/// <*****************************>
      cardContainer.appendChild(nameTag);
     cardContainer.appendChild(productImg);
      cardContainer.appendChild(priceTag);
      cardContainer.appendChild(buyButton);

      // oldest parent
      productContainer.appendChild(cardContainer);

      // push to the list
      document.getElementById("prod-list-cont").appendChild(productContainer);
    }

    // call for each
    function renderProductList(list){
      list.forEach(renderSingleProduct)
    }

    renderProductList(productList);


  </script>
  
</body>

</html>

</body>

</html>